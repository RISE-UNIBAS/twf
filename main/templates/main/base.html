{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}My Project{% endblock %}</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />
    <link href="{% static 'main/css/twf.css' %}" rel="stylesheet">
    {% block css %}
    {% endblock %}
</head>
<body style="background-color: #272727;">

    <header>
       {% include 'main/navigation.html' %}
    </header>

    <div class="container-fluid mt-3">
        {% if user.is_authenticated or request.path == "/login/" %}
            <div class="row">
                 {% if project %}
                    {% include 'main/sidebar_project.html' %}
                 {% endif %}
                {% if dictionaries %}
                    {% include 'main/sidebar_dictionary.html' %}
                 {% endif %}
                 <main class="{% if project or dictionaries %}col-10{% else %}col-12{% endif %} bg-light border">
                   <h1 class="fs-4 mt-2">{% block heading %}Page Heading{% endblock %}</h1>
                   {% for message in messages %}
                       <div class="{{ message.tags }} alert-dismissible fade show" role="alert">
                           {{ message }}
                           <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                       </div>
                   {% endfor %}
                   {% block content %}
                   {% endblock %}
                 </main>
            </div>
        {% else %}
            <div class="alert alert-secondary" role="alert">
              You need to login.
            </div>
        {% endif %}
    </div>

    <footer class="footer mt-auto py-3 bg-light">
        <div class="container">
            <span class="text-muted">
                {% if user.is_authenticated %}
                    Logged in as <strong>{{ user }}</strong>, {{ user.profile.clearance_level }}
                {% endif %}
            </span>
        </div>
    </footer>

    <!-- Bootstrap JS with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
    {% block script %}
    {% endblock %}
</body>
</html>